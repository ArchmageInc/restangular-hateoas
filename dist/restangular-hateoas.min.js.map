{"version":3,"file":"restangular-hateoas.min.js","sources":["src/restangular-hateoas-module.js","src/providers/hateoas-config.js","src/services/hateoas-api.js","src/services/hateoas-common.js","src/services/hateoas-decorator.js"],"names":["angular","module","_","provider","setProperties","properties","value","isObject","merge","configuration","isString","set","getProperties","clone","defaultConfiguration","map","restangularCollection","restangularElement","save","service","embedded","links","selfLink","nextLink","original","changed","fromServer","hiddenPromise","this","getConfiguration","setConfiguration","$get","constant","factory","$http","Restangular","HateoasConfiguration","HateoasCommon","HateoasDecorator","beforeObjectRestangularized","object","isCollection","falseCollection","afterObjectRestangularized","isArray","convertFromHateoas","decorate","responseInteceptor","apiInstance","data","operation","route","url","response","deferred","get","baseObject","extractedData","forEach","element","cleanTemplatedLinks","headers","undefined","$object","promise","requestInterceptor","params","httpConfig","extend","Authorization","authorization","token","processRaw","_route","getChangedProperties","convertToHateoas","_hateoas","_model","createElement","serviceInstance","pick","keys","_modelDefaults","each","property","result","model","restangularizeElement","elementTransformer","_modelService","HateoasApi","baseUrl","withConfig","RestangularConfigurer","setBaseUrl","setRestangularFields","getIdFromElem","getId","setOnBeforeElemRestangularized","setOnElemRestangularized","addResponseInterceptor","partial","addFullRequestInterceptor","ModelService","modelDefaults","all","withHttpConfig","create","bind","addElementTransformer","prototype","setAuthToken","Object","getRestangularUrl","match","substr","applyHateoasChild","childName","defineProperty","enumerable","configurable","getList","promiseFill","defineChildValue","then","childObject","defineHiddenChildValue","isPlainObject","returnLinks","link","key","replace","restangularObject","childLink","substring","lastIndexOf","isRestangularProperty","propertyName","includes","values","isDate","isNull","writable","$q","saveElement","patch","plain","getElementChangedProperties","hateoasObject","originalValue","revertElement","resolveObjectProperty","parts","split","part","shift","remain","join","child","resolveObjectProperties","collectionHasNext","getCollectionNext","hasNext","allUrl","push","apply","when","propertyNameArray","promises","i","length","hateoasGetList","restangularGetListFn","args","Array","slice","call","arguments","hateoasGet","restangularGetFn","decorateElement","revert","resolve","decorateCollection","getNext"],"mappings":"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","sourceRoot":"./"}