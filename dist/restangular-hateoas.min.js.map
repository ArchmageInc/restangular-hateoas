{"version":3,"file":"restangular-hateoas.min.js","sources":["src/restangular-hateoas-module.js","src/providers/hateoas-config.js","src/services/hateoas-api.js","src/services/hateoas-common.js","src/services/hateoas-decorator.js"],"names":["angular","module","_","provider","setProperties","properties","value","isObject","merge","configuration","isString","set","defaultConfiguration","map","restangularCollection","restangularElement","save","service","embedded","links","selfLink","nextLink","original","changed","fromServer","hiddenPromise","clone","this","$get","constant","factory","$http","Restangular","hateoasConfiguration","HateoasCommon","HateoasDecorator","beforeObjectRestangularized","object","isCollection","falseCollection","afterObjectRestangularized","isArray","convertFromHateoas","decorate","responseInteceptor","data","operation","route","url","response","deferred","get","baseObject","forEach","element","cleanTemplatedLinks","headers","undefined","$object","promise","requestInterceptor","params","httpConfig","extend","_route","getChangedProperties","convertToHateoas","_hateoas","_model","createElement","apiInstance","serviceInstance","pick","keys","_modelDefaults","model","restangularizeElement","elementTransformer","_modelService","HateoasApi","baseUrl","withConfig","RestangularConfigurer","setBaseUrl","setRestangularFields","getIdFromElem","getId","setOnBeforeElemRestangularized","setOnElemRestangularized","addResponseInterceptor","addFullRequestInterceptor","ModelService","modelDefaults","all","withHttpConfig","create","bind","partial","addElementTransformer","Object","getRestangularUrl","match","substr","applyHateoasChild","childName","defineProperty","enumerable","configurable","getList","promiseFill","defineChildValue","then","childObject","defineHiddenChildValue","isPlainObject","returnLinks","link","key","replace","restangularObject","childLink","substring","lastIndexOf","isRestangularProperty","propertyName","includes","values","result","isDate","isNull","writable","$q","saveElement","patch","plain","getElementChangedProperties","hateoasObject","originalValue","revertElement","resolveObjectProperty","parts","split","part","shift","remain","join","child","resolveObjectProperties","collectionHasNext","getCollectionNext","hasNext","allUrl","push","apply","when","propertyNameArray","promises","i","length","hateoasGetList","restangularGetListFn","args","Array","prototype","slice","call","arguments","hateoasGet","restangularGetFn","decorateElement","revert","resolve","decorateCollection","getNext"],"mappings":"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","sourceRoot":"./"}