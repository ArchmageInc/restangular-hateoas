{"version":3,"file":"restangular-hateoas.min.js","sources":["src/restangular-hateoas-module.js","src/providers/hateoas-config.js","src/services/hateoas-api.js","src/services/hateoas-common.js","src/services/hateoas-decorator.js"],"names":["angular","module","_","provider","setProperties","properties","value","isObject","merge","configuration","isString","set","getProperties","clone","defaultConfiguration","map","restangularCollection","restangularElement","save","service","embedded","links","selfLink","nextLink","original","changed","fromServer","hiddenPromise","this","getConfiguration","setConfiguration","$get","constant","factory","$http","Restangular","HateoasConfiguration","HateoasCommon","HateoasDecorator","beforeObjectRestangularized","object","isCollection","falseCollection","afterObjectRestangularized","isArray","convertFromHateoas","decorate","responseInteceptor","apiInstance","data","operation","route","url","response","deferred","get","baseObject","extractedData","forEach","element","cleanTemplatedLinks","headers","undefined","$object","promise","requestInterceptor","params","httpConfig","extend","Authorization","authorization","token","processRaw","_route","getChangedProperties","convertToHateoas","_hateoas","_model","createElement","serviceInstance","pick","keys","_modelDefaults","model","restangularizeElement","elementTransformer","_modelService","HateoasApi","baseUrl","withConfig","RestangularConfigurer","setBaseUrl","setRestangularFields","getIdFromElem","getId","setOnBeforeElemRestangularized","setOnElemRestangularized","addResponseInterceptor","partial","addFullRequestInterceptor","ModelService","modelDefaults","all","withHttpConfig","create","bind","addElementTransformer","prototype","setAuthToken","Object","getRestangularUrl","match","substr","applyHateoasChild","childName","defineProperty","enumerable","configurable","getList","promiseFill","defineChildValue","then","childObject","defineHiddenChildValue","isPlainObject","returnLinks","link","key","replace","restangularObject","childLink","substring","lastIndexOf","isRestangularProperty","propertyName","includes","values","result","isDate","isNull","writable","$q","saveElement","patch","plain","getElementChangedProperties","hateoasObject","originalValue","revertElement","resolveObjectProperty","parts","split","part","shift","remain","join","child","resolveObjectProperties","collectionHasNext","getCollectionNext","hasNext","allUrl","push","apply","when","propertyNameArray","promises","i","length","hateoasGetList","restangularGetListFn","args","Array","slice","call","arguments","hateoasGet","restangularGetFn","decorateElement","revert","resolve","decorateCollection","getNext"],"mappings":"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","sourceRoot":"./"}